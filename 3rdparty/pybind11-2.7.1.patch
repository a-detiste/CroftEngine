diff -ur pybind11-2.7.1-orig/include/pybind11/pytypes.h pybind11-2.7.1/include/pybind11/pytypes.h
--- pybind11-2.7.1-orig/include/pybind11/pytypes.h	2021-08-03 21:20:50.000000000 +0200
+++ pybind11-2.7.1/include/pybind11/pytypes.h	2021-09-01 07:17:03.132689300 +0200
@@ -1212,13 +1212,13 @@
     template <typename T,
               detail::enable_if_t<std::is_integral<T>::value, int> = 0>
     int_(T value) {
-        if (sizeof(T) <= sizeof(long)) {
-            if (std::is_signed<T>::value)
+        if constexpr(sizeof(T) <= sizeof(long)) {
+            if constexpr(std::is_signed<T>::value)
                 m_ptr = PyLong_FromLong((long) value);
             else
                 m_ptr = PyLong_FromUnsignedLong((unsigned long) value);
         } else {
-            if (std::is_signed<T>::value)
+            if constexpr(std::is_signed<T>::value)
                 m_ptr = PyLong_FromLongLong((long long) value);
             else
                 m_ptr = PyLong_FromUnsignedLongLong((unsigned long long) value);
